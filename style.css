*{box-sizing:border-box;margin:0;padding:0;}
html,body{height:100%;overflow:hidden;background:#111;color:#fff;font-family:-apple-system,BlinkMacSystemFont,"PingFang SC","Microsoft YaHei",sans-serif;}

:root{
  --veil: linear-gradient(rgba(0,0,0,.22), rgba(0,0,0,.22));
  --dur: 48s; /* 总周期：4张*12秒=48s（想慢就加大） */
}

/* 兜底柔光：哪怕图片加载失败也不黑 */
.bg-fallback{
  position:fixed; inset:0; z-index:-10;
  background:
    radial-gradient(circle at 30% 20%, rgba(255,235,225,.24), rgba(0,0,0,.78)),
    radial-gradient(circle at 80% 70%, rgba(200,220,255,.10), rgba(0,0,0,0));
}

/* 背景轮播容器 */
.bg-slideshow{
  position:fixed; inset:0; z-index:-3;
}

/* 每一张背景 */
.bg-slide{
  position:absolute; inset:0;
  opacity:0;
  animation:fade var(--dur) linear infinite;
  background-size:cover;
  background-position:center;
  background-repeat:no-repeat;
  transform:scale(1.03); /* 轻微电影感 */
}

/* 叠加柔光 + 暗部保护 */
.bg-slide::after{
  content:"";
  position:absolute; inset:0;
  background:
    radial-gradient(circle at 30% 20%, rgba(255,200,210,.14), rgba(0,0,0,0) 55%),
    radial-gradient(circle at 80% 75%, rgba(180,210,255,.10), rgba(0,0,0,0) 60%),
    var(--veil);
}

/* 四张图 */
.s1{ background-image: url("bg1.jpg"); animation-delay: 0s; }
.s2{ background-image: url("bg2.jpg"); animation-delay: calc(var(--dur) * -0.75); }
.s3{ background-image: url("bg3.jpg"); animation-delay: calc(var(--dur) * -0.50); }
.s4{ background-image: url("bg4.jpg"); animation-delay: calc(var(--dur) * -0.25); }

/* 交叉淡入淡出：每张显示约25%，淡入淡出各约5% */
@keyframes fade{
  0%   {opacity:0;}
  5%   {opacity:1;}
  25%  {opacity:1;}
  30%  {opacity:0;}
  100% {opacity:0;}
}

/* 玫瑰画布 */
#petals{position:fixed; inset:0; z-index:-2;}

/* 内容 */
.wrap{
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:24px;
}
.card{width:min(560px,92vw);text-align:center;padding:10px 8px;}
.title{
  font-size:22px;
  margin-bottom:16px;
  text-shadow:0 10px 40px rgba(0,0,0,.75);
}
.lines{
  font-size:15px;
  line-height:1.9;
  text-shadow:0 10px 40px rgba(0,0,0,.75);
}
.line{
  opacity:0;
  transform:translateY(10px);
  transition:opacity 1.05s ease, transform 1.05s ease;
  margin:10px 0;
}
.line.show{opacity:1; transform:translateY(0);}
.tip{margin-top:14px;font-size:12px;opacity:.65;}

/* 音乐按钮 */
.music-btn{
  position:fixed; right:18px; bottom:18px;
  width:46px; height:46px;
  border-radius:50%;
  border:1px solid rgba(255,255,255,.35);
  background:rgba(0,0,0,.35);
  color:#fff;
  font-size:18px;
  z-index:5;
}
.music-btn.playing{animation:spin 6s linear infinite;}
@keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}

/* Toast */
.toast{
  position:fixed;
  left:50%; bottom:82px;
  transform:translateX(-50%);
  padding:8px 14px;
  border-radius:18px;
  background:rgba(0,0,0,.55);
  color:#fff;
  font-size:12px;
  opacity:0;
  transition:.35s ease;
  z-index:6;
  pointer-events:none;
}
.toast.show{opacity:1;}

/* 加载页 */
.loader{
  position:fixed; inset:0; z-index:9999;
  display:flex; align-items:center; justify-content:center;
  background:#0c0c10;
  transition:opacity 1.2s ease;
}
.loader.hide{opacity:0; pointer-events:none;}
.loader-inner{width:220px;text-align:center;color:#fff;}
.loader-title{margin-bottom:16px;font-size:14px;letter-spacing:2px;opacity:.75;}
.loader-bar{height:2px;background:rgba(255,255,255,.15);overflow:hidden;}
#loaderProgress{height:100%;width:0%;background:linear-gradient(90deg,#fff,rgba(255,255,255,.4));transition:width .2s ease;}
.loader-sub{margin-top:12px;font-size:12px;opacity:.55;}
