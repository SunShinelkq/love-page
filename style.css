*{ box-sizing:border-box; }
html,body{ height:100%; margin:0; }

body{
  overflow:hidden;
  color:#fff;

  /* ✅ 浪漫字体：不依赖外链，更稳（优先日系明朝/楷体感） */
  font-family:
    "Hiragino Mincho ProN",
    "Hiragino Mincho Pro",
    "Yu Mincho",
    "YuMincho",
    "Tsukushi A Round Gothic",
    "Hiragino Maru Gothic ProN",
    "Kaiti SC",
    "STKaiti",
    "Songti SC",
    "STSong",
    "PingFang SC",
    -apple-system, BlinkMacSystemFont, "Microsoft YaHei", serif;

  /* ✅ 兜底背景：即使轮播图加载失败也不会黑屏 */
  background-image:
    linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.25)),
    url("bg.jpg");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: fixed;
}

/* ✅ 三张背景轮播（纯 CSS，最稳定） */
.bg-slideshow{
  position:fixed;
  inset:0;
  z-index:-1; /* 在玫瑰画布下面 */
  pointer-events:none;
}
.bg-slide{
  position:absolute;
  inset:0;
  opacity:0;
  background-size:cover;
  background-position:center;
  background-repeat:no-repeat;
  transform: scale(1.05);
  animation: bgFade 45s linear infinite; /* 3张 * 15秒 */
}

.s1{ background-image: url("bg1.jpg"); animation-delay: 0s; }
.s2{ background-image: url("bg2.jpg"); animation-delay: 15s; }
.s3{ background-image: url("bg3.jpg"); animation-delay: 30s; }

.bg-slide::after{
  content:"";
  position:absolute;
  inset:0;
  background:
    radial-gradient(circle at 30% 20%, rgba(255,200,210,.12), rgba(0,0,0,0) 55%),
    radial-gradient(circle at 80% 75%, rgba(180,210,255,.10), rgba(0,0,0,0) 60%),
    linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.25));
}

@keyframes bgFade{
  0%   {opacity:0;}
  10%  {opacity:1;}
  33%  {opacity:1;}
  42%  {opacity:0;}
  100% {opacity:0;}
}

/* 玫瑰画布 */
#petals{
  position:fixed;
  inset:0;
  z-index:0;
}

.app{
  position:relative;
  z-index:1;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:22px;
  transition:opacity .6s ease, transform .6s ease;
}

.hidden{ opacity:0; pointer-events:none; transform: translateY(6px); }

/* 去掉透明框：无背景无边框，仅排版 */
.card{
  width:min(560px, 92vw);
  padding: 20px 10px;
  background: transparent;
  border: none;
  box-shadow: none;
  backdrop-filter: none;
}

.title{
  font-size:24px;              /* 稍微更“浪漫”一点 */
  font-weight:560;
  letter-spacing:.8px;
  margin-bottom:16px;
  text-shadow: 0 2px 18px rgba(0,0,0,.55);
}

.text{
  font-size:16px;              /* 稍微更“柔” */
  line-height:2.05;
  opacity:.96;
  text-shadow: 0 2px 18px rgba(0,0,0,.55);
}

.hint{
  margin-top:14px;
  font-size:12px;
  opacity:.55;
  text-shadow: 0 2px 16px rgba(0,0,0,.55);
}

/* ✅ Loader：有背景照片（bg.jpg），更稳 */
.loader{
  position:fixed;
  inset:0;
  z-index:10;
  display:flex;
  align-items:center;
  justify-content:center;

  background-image:
    linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.35)),
    url("bg.jpg");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;

  transition: opacity .95s ease;
}

.loader-card{
  width:min(420px, 86vw);
  padding:18px 16px;
  border-radius:18px;
  background: rgba(0,0,0,.28);
  border: 1px solid rgba(255,255,255,.14);
  backdrop-filter: blur(10px);
}
.loader-title{ font-size:14px; opacity:.9; margin-bottom:12px; }
.loader-bar{
  height:10px;
  border-radius:999px;
  background: rgba(255,255,255,.14);
  overflow:hidden;
  border:1px solid rgba(255,255,255,.12);
}
.loader-fill{
  height:100%;
  width:0%;
  background: linear-gradient(90deg, rgba(255,90,150,.25), rgba(255,90,150,.78));
  transition: width .2s ease;
}
.loader-tip{ margin-top:10px; font-size:12px; opacity:.78; }

/* 逐行出现 */
.line{
  opacity:0;
  transform: translateY(6px);
  transition: opacity .65s ease, transform .65s ease;
}
.line.show{
  opacity:1;
  transform: translateY(0);
}

/* 音乐按钮 */
.music-btn{
  position:fixed;
  right:18px;
  bottom:18px;
  width:46px;
  height:46px;
  border-radius:50%;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(0,0,0,.30);
  backdrop-filter:blur(10px);
  color:#fff;
  font-size:18px;
  z-index:60;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
}
.music-btn.playing{
  animation: spin 3.2s linear infinite;
}
@keyframes spin{
  from{transform:rotate(0deg);}
  to{transform:rotate(360deg);}
}

/* ✅ Toast：修复 hidden/show 冲突 */
.toast{
  position:fixed;
  left:50%;
  bottom:78px;
  transform:translateX(-50%);
  padding:10px 12px;
  border-radius:14px;
  background: rgba(0,0,0,.40);
  border: 1px solid rgba(255,255,255,.14);
  backdrop-filter: blur(10px);
  font-size:13px;
  opacity:0;
  transition: opacity .25s ease, transform .25s ease;
  z-index:65;
  pointer-events:none;
}
.toast.hidden{ opacity:0; }
.toast.show{
  opacity:1;
  transform: translateX(-50%) translateY(-4px);
}
